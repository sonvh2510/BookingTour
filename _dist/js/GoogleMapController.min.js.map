{"version":3,"sources":["GoogleMapController.js"],"names":["MapDOM","infoWindow","document","querySelector","BranchListDOM","markers","locationsInput","google","gestureHandling","zoom","mapOption","styles","featureType","elementType","stylers","color","saturation","visibility","locationLatLng","map","bounds","extend","showInfoMarkerOnMap","fitBounds","maps","LatLngBounds","forEach","location","index","LatLng","lat","lng","getLocationList","innerHTML","icon","newMarker","marker","addEventListener","event","addListener","setContent","concat","initialize","InfoWindow","Map","listener","panTo","getZoom","getPosition","setZoom","addDomListener","createElement","add","title","address","phone","setAttribute","markerIndex","getAttribute","trigger","appendChild","addMarkers","removeListener","window"],"mappings":"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","file":"GoogleMapController.min.js","sourcesContent":["let MapDOM = document.querySelector(\"#map\");\r\nlet BranchListDOM = document.querySelector(\".dealer-locator-list .list\");\r\nlet map,\r\n\tinfoWindow,\r\n\tmarkers = [];\r\nlet locationsInput = locationsInput || [];\r\nlet google = google || {};\r\nlet mapOption = {\r\n\tgestureHandling: \"cooperative\",\r\n\tzoom: 12,\r\n\tstyles: [\r\n\t\t{\r\n\t\t\tfeatureType: \"administrative\",\r\n\t\t\telementType: \"labels.text.fill\",\r\n\t\t\tstylers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tcolor: \"#444444\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tfeatureType: \"landscape\",\r\n\t\t\telementType: \"all\",\r\n\t\t\tstylers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tcolor: \"#f2f2f2\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tfeatureType: \"poi\",\r\n\t\t\telementType: \"all\",\r\n\t\t\tstylers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvisibility: \"off\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tfeatureType: \"road\",\r\n\t\t\telementType: \"all\",\r\n\t\t\tstylers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tsaturation: -100,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlightness: 45,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tfeatureType: \"road.highway\",\r\n\t\t\telementType: \"all\",\r\n\t\t\tstylers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvisibility: \"simplified\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tfeatureType: \"road.arterial\",\r\n\t\t\telementType: \"labels.icon\",\r\n\t\t\tstylers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvisibility: \"off\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tfeatureType: \"transit\",\r\n\t\t\telementType: \"all\",\r\n\t\t\tstylers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvisibility: \"off\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tfeatureType: \"water\",\r\n\t\t\telementType: \"all\",\r\n\t\t\tstylers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tcolor: \"#0c6db5\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvisibility: \"on\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n};\r\n\r\nconst addMarkers = () => {\r\n\tmarkers = [];\r\n\tconst bounds = new google.maps.LatLngBounds();\r\n\tlocationsInput.forEach((location, index) => {\r\n\t\tlet locationLatLng = new google.maps.LatLng(location.lat, location.lng);\r\n\t\tlet marker = new google.maps.Marker({\r\n\t\t\tmap: map,\r\n\t\t\ttitle: location.title,\r\n\t\t\tposition: locationLatLng,\r\n\t\t\ticon: location.icon,\r\n\t\t});\r\n\t\tbounds.extend(marker.position);\r\n\t\tmarkers.push(marker);\r\n\t\tshowInfoMarkerOnMap(marker, index);\r\n\t});\r\n\r\n\tmap.fitBounds(bounds);\r\n};\r\n\r\nconst showInfoMarkerOnMap = (marker, index) => {\r\n\tgoogle.maps.event.addListener(marker, \"click\", function () {\r\n\t\tinfoWindow.setContent(`\r\n\t\t\t\t<h3>${locationsInput[index].title}</h3>\r\n\t\t\t\t<p>${locationsInput[index].address}</p>\r\n\t\t\t\t<p>${locationsInput[index].phone}</p>\r\n\t\t\t`);\r\n\t\tinfoWindow.open(map, marker);\r\n\t\tmap.panTo(marker.getPosition());\r\n\t\tmap.setZoom(12);\r\n\t});\r\n\tgoogle.maps.event.addListener(map, \"click\", function () {\r\n\t\tinfoWindow.close();\r\n\t});\r\n};\r\n\r\nconst getLocationList = () => {\r\n\tif (BranchListDOM) {\r\n\t\tBranchListDOM.innerHTML = \"\";\r\n\t\tmarkers.forEach((marker, index) => {\r\n\t\t\tconst newMarker = document.createElement(\"div\");\r\n\t\t\tnewMarker.classList.add(\"dealer-locator-item\");\r\n\t\t\tnewMarker.innerHTML = `\r\n\t\t\t\t<h3>${locationsInput[index].title}</h3>\r\n\t\t\t\t<p>${locationsInput[index].address}</p>\r\n\t\t\t\t<p>${locationsInput[index].phone}</p>\r\n\t\t\t`;\r\n\t\t\tnewMarker.setAttribute(\"marker-id\", `${index}`);\r\n\t\t\tnewMarker.addEventListener(\"click\", () => {\r\n\t\t\t\tconst markerIndex = newMarker.getAttribute(\"marker-id\");\r\n\t\t\t\tgoogle.maps.event.trigger(markers[markerIndex], \"click\");\r\n\t\t\t});\r\n\t\t\tBranchListDOM.appendChild(newMarker);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst initialize = () => {\r\n\tinfoWindow = new google.maps.InfoWindow();\r\n\tmap = new google.maps.Map(MapDOM, mapOption);\r\n\taddMarkers();\r\n\tlet listener = google.maps.event.addListener(map, \"idle\", () => {\r\n\t\tif (map.getZoom() > 12) {\r\n\t\t\tmap.setZoom(12);\r\n\t\t}\r\n\t\tgoogle.maps.event.removeListener(listener);\r\n\t});\r\n\tgoogle.maps.event.addListener(map, \"bounds_changed\", getLocationList);\r\n};\r\n\r\nif (MapDOM) {\r\n\tgoogle.maps.event.addDomListener(window, \"load\", initialize);\r\n\tif (BranchListDOM) {\r\n\t\tgetLocationList();\r\n\t}\r\n}\r\n"]}